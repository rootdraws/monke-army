/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  isProgramError,
  type Address,
  type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,
  type SolanaError,
} from '@solana/kit';
import { BIN_FARM_PROGRAM_ADDRESS } from '../programs';

/** Unauthorized: Not authorized */
export const BIN_FARM_ERROR__UNAUTHORIZED = 0x1770; // 6000
/** Paused: Protocol is paused */
export const BIN_FARM_ERROR__PAUSED = 0x1771; // 6001
/** ZeroAmount: Amount must be greater than zero */
export const BIN_FARM_ERROR__ZERO_AMOUNT = 0x1772; // 6002
/** InvalidBinRange: Invalid bin range (min must be <= max) */
export const BIN_FARM_ERROR__INVALID_BIN_RANGE = 0x1773; // 6003
/** PositionTooWide: Position width exceeds maximum (70 bins) */
export const BIN_FARM_ERROR__POSITION_TOO_WIDE = 0x1774; // 6004
/** BinOutOfPositionRange: Bin ID outside position range */
export const BIN_FARM_ERROR__BIN_OUT_OF_POSITION_RANGE = 0x1775; // 6005
/** InvalidSlippage: Invalid slippage (must be 0-20) */
export const BIN_FARM_ERROR__INVALID_SLIPPAGE = 0x1776; // 6006
/** FeeTooHigh: Fee too high (max 10%) */
export const BIN_FARM_ERROR__FEE_TOO_HIGH = 0x1777; // 6007
/** NoBinsProvided: No bin IDs provided */
export const BIN_FARM_ERROR__NO_BINS_PROVIDED = 0x1778; // 6008
/** TooManyBins: Too many bins (max 70 per call) */
export const BIN_FARM_ERROR__TOO_MANY_BINS = 0x1779; // 6009
/** NonContiguousBins: Bin IDs must be contiguous (no gaps) */
export const BIN_FARM_ERROR__NON_CONTIGUOUS_BINS = 0x177a; // 6010
/** Overflow: Arithmetic overflow */
export const BIN_FARM_ERROR__OVERFLOW = 0x177b; // 6011
/** InvalidTokenOwner: Token account owner mismatch */
export const BIN_FARM_ERROR__INVALID_TOKEN_OWNER = 0x177c; // 6012
/** InvalidProgram: Invalid Meteora program ID */
export const BIN_FARM_ERROR__INVALID_PROGRAM = 0x177d; // 6013
/** InvalidPosition: Invalid Meteora position */
export const BIN_FARM_ERROR__INVALID_POSITION = 0x177e; // 6014
/** InvalidPool: Invalid pool */
export const BIN_FARM_ERROR__INVALID_POOL = 0x177f; // 6015
/** NoPendingAuthority: No pending authority */
export const BIN_FARM_ERROR__NO_PENDING_AUTHORITY = 0x1780; // 6016
/** NoPendingFeeChange: No pending fee change */
export const BIN_FARM_ERROR__NO_PENDING_FEE_CHANGE = 0x1781; // 6017
/** FeeTimelockNotExpired: Fee timelock not expired (24 hours required) */
export const BIN_FARM_ERROR__FEE_TIMELOCK_NOT_EXPIRED = 0x1782; // 6018
/** NothingToSweep: Nothing to sweep (rover authority has no excess SOL) */
export const BIN_FARM_ERROR__NOTHING_TO_SWEEP = 0x1783; // 6019
/** BotPaused: Bot close operations are paused */
export const BIN_FARM_ERROR__BOT_PAUSED = 0x1784; // 6020
/** RoverDepositTooSmall: Rover deposit below minimum (anti-griefing) */
export const BIN_FARM_ERROR__ROVER_DEPOSIT_TOO_SMALL = 0x1785; // 6021
/** PositionTooSmall: Position amount below minimum (anti-griefing) */
export const BIN_FARM_ERROR__POSITION_TOO_SMALL = 0x1786; // 6022
/** RoverBinStepTooSmall: Rover bin_step too small (minimum 20 — prevents instant liquidation on tight pools) */
export const BIN_FARM_ERROR__ROVER_BIN_STEP_TOO_SMALL = 0x1787; // 6023
/** InvalidDistPool: dist_pool cannot be the null address */
export const BIN_FARM_ERROR__INVALID_DIST_POOL = 0x1788; // 6024
/** BotNotStale: Bot is still active — permissionless harvest not yet available */
export const BIN_FARM_ERROR__BOT_NOT_STALE = 0x1789; // 6025
/** MissingKeeperAta: Permissionless harvester must provide keeper ATA in remaining_accounts */
export const BIN_FARM_ERROR__MISSING_KEEPER_ATA = 0x178a; // 6026
/** PrioritySlotsExceedMax: Priority slots exceed maximum (9000 slots / ~1 hour) */
export const BIN_FARM_ERROR__PRIORITY_SLOTS_EXCEED_MAX = 0x178b; // 6027
/** NoPendingEmergencyClose: No pending emergency close */
export const BIN_FARM_ERROR__NO_PENDING_EMERGENCY_CLOSE = 0x178c; // 6028
/** EmergencyCloseTimelockNotExpired: Emergency close timelock not expired (24 hours required) */
export const BIN_FARM_ERROR__EMERGENCY_CLOSE_TIMELOCK_NOT_EXPIRED = 0x178d; // 6029

export type BinFarmError =
  | typeof BIN_FARM_ERROR__BIN_OUT_OF_POSITION_RANGE
  | typeof BIN_FARM_ERROR__BOT_NOT_STALE
  | typeof BIN_FARM_ERROR__BOT_PAUSED
  | typeof BIN_FARM_ERROR__EMERGENCY_CLOSE_TIMELOCK_NOT_EXPIRED
  | typeof BIN_FARM_ERROR__FEE_TIMELOCK_NOT_EXPIRED
  | typeof BIN_FARM_ERROR__FEE_TOO_HIGH
  | typeof BIN_FARM_ERROR__INVALID_BIN_RANGE
  | typeof BIN_FARM_ERROR__INVALID_DIST_POOL
  | typeof BIN_FARM_ERROR__INVALID_POOL
  | typeof BIN_FARM_ERROR__INVALID_POSITION
  | typeof BIN_FARM_ERROR__INVALID_PROGRAM
  | typeof BIN_FARM_ERROR__INVALID_SLIPPAGE
  | typeof BIN_FARM_ERROR__INVALID_TOKEN_OWNER
  | typeof BIN_FARM_ERROR__MISSING_KEEPER_ATA
  | typeof BIN_FARM_ERROR__NO_BINS_PROVIDED
  | typeof BIN_FARM_ERROR__NON_CONTIGUOUS_BINS
  | typeof BIN_FARM_ERROR__NO_PENDING_AUTHORITY
  | typeof BIN_FARM_ERROR__NO_PENDING_EMERGENCY_CLOSE
  | typeof BIN_FARM_ERROR__NO_PENDING_FEE_CHANGE
  | typeof BIN_FARM_ERROR__NOTHING_TO_SWEEP
  | typeof BIN_FARM_ERROR__OVERFLOW
  | typeof BIN_FARM_ERROR__PAUSED
  | typeof BIN_FARM_ERROR__POSITION_TOO_SMALL
  | typeof BIN_FARM_ERROR__POSITION_TOO_WIDE
  | typeof BIN_FARM_ERROR__PRIORITY_SLOTS_EXCEED_MAX
  | typeof BIN_FARM_ERROR__ROVER_BIN_STEP_TOO_SMALL
  | typeof BIN_FARM_ERROR__ROVER_DEPOSIT_TOO_SMALL
  | typeof BIN_FARM_ERROR__TOO_MANY_BINS
  | typeof BIN_FARM_ERROR__UNAUTHORIZED
  | typeof BIN_FARM_ERROR__ZERO_AMOUNT;

let binFarmErrorMessages: Record<BinFarmError, string> | undefined;
if (process.env.NODE_ENV !== 'production') {
  binFarmErrorMessages = {
    [BIN_FARM_ERROR__BIN_OUT_OF_POSITION_RANGE]: `Bin ID outside position range`,
    [BIN_FARM_ERROR__BOT_NOT_STALE]: `Bot is still active — permissionless harvest not yet available`,
    [BIN_FARM_ERROR__BOT_PAUSED]: `Bot close operations are paused`,
    [BIN_FARM_ERROR__EMERGENCY_CLOSE_TIMELOCK_NOT_EXPIRED]: `Emergency close timelock not expired (24 hours required)`,
    [BIN_FARM_ERROR__FEE_TIMELOCK_NOT_EXPIRED]: `Fee timelock not expired (24 hours required)`,
    [BIN_FARM_ERROR__FEE_TOO_HIGH]: `Fee too high (max 10%)`,
    [BIN_FARM_ERROR__INVALID_BIN_RANGE]: `Invalid bin range (min must be <= max)`,
    [BIN_FARM_ERROR__INVALID_DIST_POOL]: `dist_pool cannot be the null address`,
    [BIN_FARM_ERROR__INVALID_POOL]: `Invalid pool`,
    [BIN_FARM_ERROR__INVALID_POSITION]: `Invalid Meteora position`,
    [BIN_FARM_ERROR__INVALID_PROGRAM]: `Invalid Meteora program ID`,
    [BIN_FARM_ERROR__INVALID_SLIPPAGE]: `Invalid slippage (must be 0-20)`,
    [BIN_FARM_ERROR__INVALID_TOKEN_OWNER]: `Token account owner mismatch`,
    [BIN_FARM_ERROR__MISSING_KEEPER_ATA]: `Permissionless harvester must provide keeper ATA in remaining_accounts`,
    [BIN_FARM_ERROR__NO_BINS_PROVIDED]: `No bin IDs provided`,
    [BIN_FARM_ERROR__NON_CONTIGUOUS_BINS]: `Bin IDs must be contiguous (no gaps)`,
    [BIN_FARM_ERROR__NO_PENDING_AUTHORITY]: `No pending authority`,
    [BIN_FARM_ERROR__NO_PENDING_EMERGENCY_CLOSE]: `No pending emergency close`,
    [BIN_FARM_ERROR__NO_PENDING_FEE_CHANGE]: `No pending fee change`,
    [BIN_FARM_ERROR__NOTHING_TO_SWEEP]: `Nothing to sweep (rover authority has no excess SOL)`,
    [BIN_FARM_ERROR__OVERFLOW]: `Arithmetic overflow`,
    [BIN_FARM_ERROR__PAUSED]: `Protocol is paused`,
    [BIN_FARM_ERROR__POSITION_TOO_SMALL]: `Position amount below minimum (anti-griefing)`,
    [BIN_FARM_ERROR__POSITION_TOO_WIDE]: `Position width exceeds maximum (70 bins)`,
    [BIN_FARM_ERROR__PRIORITY_SLOTS_EXCEED_MAX]: `Priority slots exceed maximum (9000 slots / ~1 hour)`,
    [BIN_FARM_ERROR__ROVER_BIN_STEP_TOO_SMALL]: `Rover bin_step too small (minimum 20 — prevents instant liquidation on tight pools)`,
    [BIN_FARM_ERROR__ROVER_DEPOSIT_TOO_SMALL]: `Rover deposit below minimum (anti-griefing)`,
    [BIN_FARM_ERROR__TOO_MANY_BINS]: `Too many bins (max 70 per call)`,
    [BIN_FARM_ERROR__UNAUTHORIZED]: `Not authorized`,
    [BIN_FARM_ERROR__ZERO_AMOUNT]: `Amount must be greater than zero`,
  };
}

export function getBinFarmErrorMessage(code: BinFarmError): string {
  if (process.env.NODE_ENV !== 'production') {
    return (binFarmErrorMessages as Record<BinFarmError, string>)[code];
  }

  return 'Error message not available in production bundles.';
}

export function isBinFarmError<TProgramErrorCode extends BinFarmError>(
  error: unknown,
  transactionMessage: {
    instructions: Record<number, { programAddress: Address }>;
  },
  code?: TProgramErrorCode
): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &
  Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {
  return isProgramError<TProgramErrorCode>(
    error,
    transactionMessage,
    BIN_FARM_PROGRAM_ADDRESS,
    code
  );
}
