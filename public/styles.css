
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --bg: #0F1A3A;
      --fg: #C4CFCB;
      --dim: #607080;
      --faint: #3D5280;
      --scaffold: #3A5A28;
      --scaffold-fill: #4A6A38;
      --sell: #8B4513;
      --sell-faint: rgba(139, 69, 19, 0.12);
      --mint: #9DE5B5;
      --mint-faint: rgba(157, 229, 181, 0.12);
      --bananas: #F2D662;
      --bananas-faint: rgba(242, 214, 98, 0.12);
    }

    body {
      font-family: 'JetBrains Mono', monospace;
      font-weight: 300;
      font-size: 11px;
      line-height: 1.5;
      background: var(--bg);
      color: var(--fg);
      min-height: 100vh;
      min-width: 1100px;
      min-height: 700px;
      overflow: auto;
      letter-spacing: 0.3px;
    }

    /* FUTURE: @media (max-width: 1099px) — mobile layout goes here. Single file, not a clone. */

    /* ─── SCAFFOLD GEOMETRY ─── */

    .corner { position: fixed; width: 200px; height: 200px; pointer-events: none; z-index: 2; }
    .corner svg { width: 100%; height: 100%; overflow: visible; }
    .corner.top-left { top: 10px; left: 10px; }
    .corner.top-right { top: 10px; right: 10px; }
    .corner.bottom-left { bottom: 10px; left: 10px; }
    .corner.bottom-right { bottom: 10px; right: 10px; }
    /* On positions page, corners lift above the bottom panel */
    body.on-trade .corner.bottom-left { bottom: 20px; }
    body.on-trade .corner.bottom-right { bottom: 20px; }

    .hoverable { pointer-events: all; cursor: pointer; transition: stroke 0.3s ease; }
    .hoverable:hover { stroke: #8A9AAA; }

    .tangent-ray { position: fixed; pointer-events: none; }
    .tangent-ray.top { top: 19px; left: 90px; right: 90px; height: 1px; border-top: 1px dashed var(--scaffold); }
    .tangent-ray.left { left: 19px; top: 90px; bottom: 90px; width: 1px; border-left: 1px dashed var(--scaffold); }
    .tangent-ray.right { right: 19px; top: 90px; bottom: 90px; width: 1px; border-left: 1px dashed var(--scaffold); }

    /* ─── TRADE LAYOUT ─── two vertical panels flanking the sigil */

    .trade-layout {
      position: fixed;
      top: 70px; bottom: 110px;
      left: 40px; right: 40px;
      display: flex; gap: 280px;
      z-index: 50;
    }

    .trade-left-panel {
      flex: 0 1 40%; min-width: 200px;
      display: flex; flex-direction: column;
      border: 1px solid rgba(30, 45, 80, 0.3);
      border-radius: 2px;
      padding: 12px;
    }

    .trade-right-panel {
      width: clamp(340px, 35vw, 460px); flex-shrink: 0;
      display: flex; flex-direction: column;
      gap: 16px;
    }

    .trade-order-form {
      display: flex; flex-direction: column; gap: 10px;
      border: 1px solid rgba(30, 45, 80, 0.3);
      border-radius: 2px;
      padding: 16px;
    }

    /* ─── BIN VISUALIZATION ─── canvas + header/legend */

    .bin-viz-header {
      display: flex; justify-content: space-between; align-items: baseline;
      margin-bottom: 8px; flex-shrink: 0;
    }
    .bin-viz-title {
      font-size: 10px; color: var(--faint); letter-spacing: 2px;
      text-transform: lowercase; font-weight: 300;
    }
    .bin-viz-meta {
      font-size: 10px; color: var(--dim); letter-spacing: 1px; font-weight: 300;
    }
    .bin-viz-zoom {
      display: flex; align-items: center; gap: 6px; flex-shrink: 0;
    }
    .zoom-btn {
      width: 22px; height: 22px;
      background: transparent; border: 1px solid rgba(58, 90, 140, 0.3);
      border-radius: 2px; color: var(--dim);
      font-size: 13px; font-family: inherit; font-weight: 200;
      cursor: pointer; display: flex; align-items: center; justify-content: center;
      transition: border-color 0.2s, color 0.2s;
      padding: 0; line-height: 1;
    }
    .zoom-btn:hover { border-color: var(--scaffold); color: var(--fg); }
    .zoom-level {
      font-size: 8px; color: var(--faint); letter-spacing: 1px;
      min-width: 28px; text-align: center;
    }

    .bin-viz-wrap {
      flex: 1; min-height: 0; position: relative;
      overflow: hidden;
    }
    .bin-viz-wrap canvas {
      position: absolute; top: 0; left: 0;
      width: 100%; height: 100%;
    }

    .bin-viz-legend {
      display: flex; gap: 16px; margin-top: 8px; flex-shrink: 0;
    }
    .legend-item {
      display: flex; align-items: center; gap: 6px;
      font-size: 10px; color: var(--faint); letter-spacing: 1px;
      text-transform: lowercase; font-weight: 300;
    }
    .legend-swatch {
      width: 12px; height: 3px; border-radius: 1px;
    }
    .legend-swatch.pool-buy-swatch { background: rgba(74, 222, 128, 0.35); }
    .legend-swatch.pool-sell-swatch { background: rgba(239, 68, 68, 0.35); }
    .legend-swatch.yours-swatch { background: var(--mint); }
    .legend-swatch.preview-swatch { background: var(--mint); opacity: 0.35; }

    /* ─── SIGIL NAVIGATOR ─── the astrolabe at bottom center */

    .sigil-nav {
      position: fixed;
      bottom: 0; left: 50%; transform: translateX(-50%);
      width: 280px; height: 100px;
      z-index: 100; pointer-events: none;
    }
    .sigil-nav svg { width: 100%; height: 100%; overflow: visible; }
    .sigil-orbit {
      cursor: pointer; pointer-events: all;
      transition: stroke 0.4s ease, stroke-dasharray 0.4s ease;
    }
    .sigil-orbit:hover { stroke: var(--dim); }
    .sigil-orbit.active {
      stroke: var(--scaffold); stroke-dasharray: none;
    }
    .sigil-dot {
      cursor: pointer; pointer-events: all;
      transition: fill 0.3s ease, r 0.3s ease;
    }
    .sigil-dot.active { fill: var(--fg); }
    .sigil-dot:hover { fill: var(--dim); }

    .sigil-nav .nav-arrow {
      position: absolute; bottom: 18px; cursor: pointer;
      opacity: 0.35; transition: opacity 0.3s ease;
      pointer-events: all;
    }
    .sigil-nav .nav-arrow:hover { opacity: 0.8; }
    .sigil-nav .nav-arrow.left { left: 0; }
    .sigil-nav .nav-arrow.right { right: 0; }
    .sigil-nav .nav-arrow path { transition: fill 0.2s ease; }
    .sigil-nav .nav-arrow:hover path { fill: #8A9AAA; }

    /* ─── SITE PAGES ─── full-viewport page containers */

    .site-page { display: none; }
    .site-page.active { display: block; }

    .page-body {
      position: fixed;
      top: 180px; bottom: 160px;
      left: 220px; right: 115px;
      overflow-y: auto; z-index: 10;
    }
    body.on-rank .page-body {
      top: 60px; left: 90px; right: 70px;
      overflow: hidden;
    }
    .page-body::-webkit-scrollbar { width: 2px; }
    .page-body::-webkit-scrollbar-track { background: transparent; }
    .page-body::-webkit-scrollbar-thumb { background: var(--faint); }

    /* ─── APP UI ─── etched into the scaffold */

    .header {
      position: fixed; top: 28px; left: 115px; right: 115px;
      display: flex; justify-content: space-between; align-items: baseline;
      z-index: 100; pointer-events: none;
    }
    .header > * { pointer-events: all; }

    .logo {
      font-size: 13px; font-weight: 200; letter-spacing: 3px;
      text-transform: lowercase; color: var(--dim);
    }
    .logo span { color: var(--fg); font-weight: 300; }

    .wallet-btn {
      background: transparent; border: none;
      padding: 0; color: var(--dim);
      font-size: 11px; font-weight: 300; letter-spacing: 1.5px;
      cursor: pointer; transition: color 0.3s;
      font-family: inherit; text-transform: lowercase;
    }
    .wallet-btn:hover { color: var(--fg); }
    .wallet-btn.connected { color: var(--fg); }

    .wallet-options {
      position: fixed; top: 52px; right: 115px;
      background: rgba(15, 26, 58, 0.95);
      border: 1px solid var(--faint);
      padding: 6px 0; z-index: 200; display: none;
      backdrop-filter: blur(20px);
    }
    .wallet-options.visible { display: block; }
    .wallet-option {
      display: flex; align-items: center; gap: 10px;
      padding: 10px 20px; border: none; background: transparent;
      color: var(--dim); font-size: 11px; font-family: inherit;
      font-weight: 300; letter-spacing: 1px;
      cursor: pointer; width: 100%; transition: color 0.2s;
    }
    .wallet-option:hover { color: var(--fg); }
    .wallet-option .wallet-dot { width: 4px; height: 4px; border-radius: 50%; opacity: 0.6; }

    /* ─── ORDER FORM ─── inside trade-right-panel */

    .pool-section {
      display: flex; gap: 0;
    }
    .pool-input {
      flex: 1; background: transparent;
      border: none; border-bottom: 1px solid var(--faint);
      padding: 8px 0; color: var(--fg);
      font-size: 11px; font-family: inherit; font-weight: 300;
      letter-spacing: 0.5px;
    }
    .pool-input::placeholder { color: var(--faint); }
    .pool-input:focus { outline: none; border-bottom-color: var(--dim); }
    .load-btn {
      background: transparent; border: none; border-bottom: 1px solid var(--faint);
      padding: 8px 16px; color: var(--dim);
      font-size: 10px; font-weight: 300; letter-spacing: 2px;
      cursor: pointer; font-family: inherit; text-transform: lowercase;
      transition: color 0.2s;
    }
    .load-btn:hover { color: var(--fg); }
    .load-btn:disabled { opacity: 0.3; cursor: not-allowed; }

    .pool-info {
      display: none; gap: 16px;
      padding: 6px 0;
    }
    .pool-info.visible { display: flex; }
    .pool-stat-label {
      font-size: 9px; color: var(--faint); letter-spacing: 2px;
      text-transform: uppercase;
    }
    .pool-stat-value { font-size: 15px; font-weight: 300; color: var(--dim); }

    .side-tabs {
      display: flex; gap: 0;
      margin-top: 4px;
    }
    .side-tab {
      flex: 1; padding: 8px 0; border: none; background: transparent;
      color: var(--faint); font-size: 11px; font-weight: 300;
      cursor: pointer; font-family: inherit;
      letter-spacing: 2px; text-transform: lowercase;
      transition: color 0.2s, border-color 0.2s; position: relative;
      border-bottom: 1px solid var(--faint);
      text-align: center;
    }
    .side-tab:hover { color: var(--dim); }
    .side-tab.active { color: var(--fg); }
    .side-tab.active.buy { border-bottom-color: var(--mint); }
    .side-tab.active.sell { border-bottom-color: var(--sell); }

    .range-section {
      display: flex; flex-direction: column; gap: 10px;
      margin-top: 8px; padding: 10px 0;
    }
    .range-row { display: flex; gap: 10px; align-items: baseline; }
    .range-label {
      font-size: 9px; color: var(--faint); letter-spacing: 2px;
      text-transform: lowercase; flex-shrink: 0; min-width: 30px;
    }
    .range-input {
      flex: 1; background: transparent;
      border: none; border-bottom: 1px solid var(--faint);
      padding: 6px 0; color: var(--fg);
      font-size: 14px; font-weight: 200; font-family: inherit;
      letter-spacing: 1px; min-width: 0; max-width: 90px;
    }
    .range-input:focus { outline: none; border-bottom-color: var(--dim); }
    .range-input::-webkit-outer-spin-button,
    .range-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
    .range-input { -moz-appearance: textfield; appearance: textfield; }
    .range-suffix {
      font-size: 9px; color: var(--dim); letter-spacing: 1px;
      font-weight: 300; flex-shrink: 0;
    }

    /* ─── BIN STRIP ─── compact range visualization */

    /* bin-strip removed — replaced by canvas bin visualization */

    .amount-section {
      margin-top: auto; flex-shrink: 0;
    }
    .amount-label {
      font-size: 9px; color: var(--faint); letter-spacing: 2px;
      text-transform: uppercase; margin-bottom: 8px;
    }
    .amount-row { display: flex; gap: 12px; align-items: baseline; }
    .amount-input {
      flex: 1; background: transparent;
      border: none; border-bottom: 1px solid var(--faint);
      padding: 8px 0; color: var(--fg);
      font-size: 15px; font-weight: 200; font-family: inherit;
      letter-spacing: 1px; min-width: 0;
    }
    .amount-input:focus { outline: none; border-bottom-color: var(--dim); }
    .amount-input::-webkit-outer-spin-button,
    .amount-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
    .amount-input { -moz-appearance: textfield; appearance: textfield; }
    .amount-token { font-size: 11px; color: var(--faint); letter-spacing: 1px; }

    .fee-display { font-size: 9px; color: var(--faint); margin-top: 6px; font-weight: 300; }
    .fee-display .fee-value { color: var(--dim); }

    .action-btn {
      width: 100%; padding: 12px 0; margin-top: 10px;
      background: transparent; border: 1px solid var(--faint);
      border-radius: 50px;
      color: var(--dim); font-size: 10px; font-weight: 300;
      letter-spacing: 2px; text-transform: lowercase;
      cursor: pointer;
      transition: all 0.3s; font-family: inherit;
    }
    .action-btn:disabled { opacity: 0.2; cursor: not-allowed; }
    .action-btn:hover:not(:disabled) { border-color: var(--bananas); color: var(--fg); }
    .action-btn.buy:hover:not(:disabled) { border-color: var(--mint); color: var(--fg); }
    .action-btn.sell:hover:not(:disabled) { border-color: var(--sell); color: var(--fg); }


    /* ─── BOTTOM PANEL ─── */

    .page-content { display: none; }
    .page-content.active { display: block; }

    .positions-header {
      display: grid; grid-template-columns: 1.5fr 1fr 1fr 0.8fr 0.8fr;
      gap: 10px; padding: 8px 0;
      font-size: 10px; color: var(--faint);
      letter-spacing: 2px; text-transform: lowercase;
      border-bottom: 1px solid rgba(30, 45, 80, 0.4);
    }
    .position-row {
      display: grid; grid-template-columns: 1.5fr 1fr 1fr 0.8fr 0.8fr;
      gap: 10px; padding: 12px 0;
      font-size: 13px; font-weight: 300;
      border-bottom: 1px solid rgba(30, 45, 80, 0.15);
      align-items: center;
    }
    .position-side { font-size: 12px; letter-spacing: 1.5px; text-transform: lowercase; }
    .position-side.buy { color: var(--mint); }
    .position-side.sell { color: var(--sell); }

    .close-btn {
      background: transparent; border: 1px solid var(--faint);
      padding: 6px 12px; color: var(--dim);
      font-size: 11px; font-weight: 300; letter-spacing: 1px;
      cursor: pointer; font-family: inherit; transition: all 0.2s;
      text-transform: lowercase;
    }
    .close-btn:hover { border-color: var(--dim); color: var(--fg); }

    /* ─── POSITIONS PAGE ─── all wallet positions */

    .pos-page-header {
      display: grid; grid-template-columns: 1.5fr 0.7fr 1.2fr 0.8fr 0.8fr 0.7fr auto auto;
      gap: 10px; padding: 10px 0;
      font-size: 10px; color: var(--faint);
      letter-spacing: 2px; text-transform: lowercase;
      border-bottom: 1px solid rgba(30, 45, 80, 0.4);
    }
    .pos-page-row {
      display: grid; grid-template-columns: 1.5fr 0.7fr 1.2fr 0.8fr 0.8fr 0.7fr auto auto;
      gap: 10px; padding: 14px 0;
      font-size: 13px; font-weight: 300;
      border-bottom: 1px solid rgba(30, 45, 80, 0.15);
      align-items: center;
    }
    .pos-page-row .pos-pool { color: var(--dim); }
    .pos-page-row .pos-side { font-size: 12px; letter-spacing: 1.5px; text-transform: lowercase; }
    .pos-page-row .pos-side.buy { color: var(--mint); }
    .pos-page-row .pos-side.sell { color: var(--sell); }
    .pos-page-row .pos-range { font-size: 12px; color: var(--faint); letter-spacing: 0.5px; }
    .pos-page-row .pos-filled { color: var(--dim); }
    .pos-page-row .pos-amount { color: var(--dim); }
    .pos-page-row .pos-status { font-size: 11px; letter-spacing: 1px; }
    .pos-page-row .pos-status.active { color: var(--mint); }
    .pos-page-row .pos-status.harvested { color: var(--bananas); }
    .pos-page-row .pos-status.closed { color: var(--faint); }

    .pos-fill-bar {
      width: 100%; height: 4px; background: rgba(30, 45, 80, 0.3);
      border-radius: 2px; margin-top: 4px; overflow: hidden;
    }
    .pos-fill-bar-inner {
      height: 100%; border-radius: 1px;
      transition: width 0.3s;
    }
    .pos-fill-bar-inner.buy { background: var(--mint); }
    .pos-fill-bar-inner.sell { background: var(--sell); }

    /* ─── SHARED COMPONENTS ─── declensions of the scaffold vocabulary */

    .stats-grid {
      display: grid; grid-template-columns: repeat(4, 1fr);
      gap: 20px; margin-bottom: 20px;
    }
    .stat-label {
      font-size: 10px; color: var(--faint); letter-spacing: 2px;
      text-transform: lowercase;
    }
    .stat-value { font-size: 18px; font-weight: 200; margin-top: 4px; }
    .stat-value.green { color: var(--mint); }
    .stat-value.bananas { color: var(--bananas); }

    .action-btn-sm {
      background: transparent; border: 1px solid var(--faint);
      padding: 6px 12px; color: var(--dim);
      font-size: 11px; font-weight: 300; letter-spacing: 1px;
      cursor: pointer; font-family: inherit; transition: all 0.2s;
      text-transform: lowercase;
    }
    .action-btn-sm:hover { border-color: var(--dim); color: var(--fg); }
    .action-btn-sm.claim-now:hover { border-color: var(--mint); color: var(--fg); }

    /* ─── ORBITAL SUB-NAV ─── top-left corner circles as intra-page navigation */

    .orbital { transition: stroke 0.3s ease, fill 0.3s ease; }
    .orbital.sub-active {
      stroke: var(--bananas); fill: rgba(242, 214, 98, 0.15);
    }
    .orbital-sigil { transition: opacity 0.2s ease; }

    .sub-content { display: none; }
    .sub-content.active { display: block; }

    /* ─── RANK: MONKE FRAME + SPLIT LAYOUT ─── */

    .monke-frame {
      position: relative;
      border: 1px solid rgba(58, 90, 40, 0.35);
      padding: 20px;
      margin-bottom: 16px;
    }
    .monke-frame-corner {
      position: absolute; width: 12px; height: 12px;
    }
    .monke-frame-corner.tl {
      top: -1px; left: -1px;
      border-top: 2px solid var(--scaffold); border-left: 2px solid var(--scaffold);
    }
    .monke-frame-corner.tr {
      top: -1px; right: -1px;
      border-top: 2px solid var(--scaffold); border-right: 2px solid var(--scaffold);
    }
    .monke-frame-corner.bl {
      bottom: -1px; left: -1px;
      border-bottom: 2px solid var(--scaffold); border-left: 2px solid var(--scaffold);
    }
    .monke-frame-corner.br {
      bottom: -1px; right: -1px;
      border-bottom: 2px solid var(--scaffold); border-right: 2px solid var(--scaffold);
    }

    .monke-split {
      display: flex; align-items: flex-start; gap: 0;
    }
    .monke-nft-panel {
      flex: 0 0 520px;
      padding-right: 20px;
    }
    .monke-frame-divider {
      flex: 0 0 1px;
      align-self: stretch;
      background: linear-gradient(
        to bottom,
        var(--scaffold) 0%,
        rgba(58, 90, 40, 0.2) 100%
      );
    }
    .monke-detail-panel {
      flex: 1; min-width: 0;
      padding-left: 20px;
    }
    .stats-grid-2 {
      grid-template-columns: repeat(2, 1fr);
    }

    .nft-carousel {
      display: flex; align-items: center; gap: 4px;
    }
    .carousel-frame {
      flex: 1; aspect-ratio: 1; overflow: hidden;
      border: 1px solid var(--faint); position: relative;
      background: rgba(30, 45, 80, 0.15);
    }
    .carousel-frame img {
      width: 100%; height: 100%; object-fit: cover; display: block;
    }
    .carousel-frame .nft-gen-tag {
      position: absolute; bottom: 4px; right: 4px;
      font-size: 8px; letter-spacing: 1px;
      padding: 1px 4px; background: rgba(15, 26, 58, 0.85);
    }
    .carousel-frame .nft-gen-tag.gen2 { color: var(--bananas); }
    .carousel-frame .nft-gen-tag.gen3 { color: var(--dim); }
    .carousel-arrow {
      background: none; border: none; color: var(--dim);
      cursor: pointer; font-size: 14px; padding: 4px;
      transition: color 0.2s;
    }
    .carousel-arrow:hover { color: var(--fg); }
    .carousel-counter {
      font-size: 10px; color: var(--dim); text-align: center;
      letter-spacing: 1px; margin-top: 6px;
    }
    .nft-burn-info {
      position: absolute; top: 4px; left: 4px;
      font-size: 7px; letter-spacing: 0.5px; color: var(--fg);
      padding: 1px 4px; background: rgba(15, 26, 58, 0.85);
    }

    .nft-selected-info {
      margin-top: 8px; padding-top: 8px;
      border-top: 1px solid rgba(30, 45, 80, 0.3);
    }
    .nft-selected-name { font-size: 12px; color: var(--fg); font-weight: 300; }
    .nft-selected-gen { font-size: 10px; color: var(--dim); letter-spacing: 1px; margin-top: 3px; }

    .monke-actions-bar {
      display: flex; justify-content: flex-end; gap: 8px; margin-bottom: 12px;
    }
    .monke-header {
      display: grid; grid-template-columns: 16px 1.5fr 0.8fr 1fr 1.2fr 0.8fr;
      gap: 12px; padding: 8px 0;
      font-size: 10px; color: var(--faint);
      letter-spacing: 2px; text-transform: lowercase;
      border-bottom: 1px solid rgba(30, 45, 80, 0.4);
    }
    .monke-row {
      display: grid; grid-template-columns: 16px 1.5fr 0.8fr 1fr 1.2fr 0.8fr;
      gap: 12px; padding: 12px 0;
      font-size: 13px; font-weight: 300;
      border-bottom: 1px solid rgba(30, 45, 80, 0.15);
      align-items: center;
      cursor: pointer; transition: background 0.15s;
    }
    .monke-row:hover { background: rgba(242, 214, 98, 0.03); }
    .monke-row .row-chevron {
      font-size: 10px; color: transparent; transition: color 0.2s;
    }
    .monke-row.selected .row-chevron { color: var(--bananas); }
    .monke-row .gen-badge {
      font-size: 11px; letter-spacing: 1px; text-transform: lowercase;
    }
    .monke-row .gen-badge.gen2 { color: var(--bananas); }
    .monke-row .gen-badge.gen3 { color: var(--dim); }
    .claimable { color: var(--mint); }

    .monke-top-triptych {
      display: grid; grid-template-columns: 1fr 1fr 1fr;
      gap: 16px; margin-bottom: 16px;
    }
    .triptych-col {
      display: flex; flex-direction: column; gap: 4px;
    }
    .triptych-sub-stats {
      margin-top: 8px; display: flex; flex-direction: column; gap: 4px;
    }
    .triptych-sub-stats > div {
      display: flex; align-items: baseline; justify-content: space-between;
    }
    .sub-label {
      flex-shrink: 0;
    }
    .sub-value {
      font-size: 14px; text-align: right;
    }
    .triptych-burn {
      display: flex; align-items: stretch; justify-content: stretch;
    }
    .burn-btn {
      display: flex; align-items: center; justify-content: center;
      background: transparent;
      border: 2px solid rgba(242, 214, 98, 0.35);
      cursor: pointer; font-family: inherit;
      transition: all 0.3s; padding: 0;
      position: relative; overflow: hidden;
      width: 144px; height: 144px;
      margin: 0 auto;
    }
    .burn-btn:hover {
      border-color: var(--bananas);
      background: rgba(242, 214, 98, 0.06);
    }
    .burn-btn canvas {
      display: block; image-rendering: pixelated;
      width: 120px; height: 120px;
      flex-shrink: 0;
    }

    .jupiter-embed-section { margin-top: 24px; }

    /* ─── RANK: ROSTER ─── */

    .explorer-search { display: flex; gap: 0; margin-bottom: 16px; }

    /* ─── OPS: ACTIVITY FEED + BOUNTY BOARD ─── */

    .ops-top-row {
      display: flex; justify-content: space-between; align-items: center;
      margin-bottom: 12px; flex-wrap: wrap; gap: 10px;
    }
    .ops-stats-compact {
      display: flex; align-items: baseline; gap: 8px; flex-wrap: wrap;
    }
    .stat-value-inline {
      font-size: 14px; font-weight: 200; color: var(--fg);
    }
    .stat-value-inline.green { color: var(--mint); }
    .ops-sep { color: var(--faint); font-size: 11px; }

    .crank-section {
      display: flex; gap: 6px; flex-wrap: wrap; align-items: center;
    }
    .crank-balance {
      font-size: 10px; color: var(--dim); letter-spacing: 0.5px;
      margin-right: 4px;
    }
    .bounty-header {
      display: grid; grid-template-columns: 1.5fr 1fr 1fr 1fr 0.8fr;
      gap: 12px; padding: 8px 0;
      font-size: 10px; color: var(--faint);
      letter-spacing: 2px; text-transform: lowercase;
      border-bottom: 1px solid rgba(30, 45, 80, 0.4);
    }
    .bounty-row {
      display: grid; grid-template-columns: 1.5fr 1fr 1fr 1fr 0.8fr;
      gap: 12px; padding: 12px 0;
      font-size: 13px; font-weight: 300;
      border-bottom: 1px solid rgba(30, 45, 80, 0.15);
      align-items: center;
    }
    .bounty-row .reward { color: var(--mint); }
    .bounty-row .stale { color: var(--sell); }
    .bounty-actions {
      display: flex; justify-content: flex-end; margin: 6px 0;
    }

    .feed-label {
      font-size: 10px; color: var(--faint); letter-spacing: 2px;
      text-transform: lowercase; margin-top: 14px; margin-bottom: 6px;
    }
    .activity-feed {
      max-height: 200px; overflow-y: auto;
      border: 1px solid rgba(30, 45, 80, 0.2);
      padding: 8px;
    }
    .activity-feed::-webkit-scrollbar { width: 2px; }
    .activity-feed::-webkit-scrollbar-track { background: transparent; }
    .activity-feed::-webkit-scrollbar-thumb { background: var(--faint); }
    .feed-event {
      font-size: 12px; font-weight: 300; color: var(--dim);
      padding: 6px 0; border-bottom: 1px solid rgba(30, 45, 80, 0.1);
      letter-spacing: 0.3px;
    }
    .feed-event .event-type { color: var(--mint); }
    .feed-event .event-amount { color: var(--fg); }
    .feed-event .event-time {
      color: var(--faint); font-size: 10px; float: right;
    }

    /* ─── RECON: TOP 5 ANALYTICS CARDS ─── */

    .recon-card {
      border: 1px solid rgba(30, 45, 80, 0.3);
      padding: 16px; margin-bottom: 12px;
    }
    .recon-card.top5 { border-color: var(--bananas); }
    .recon-card .card-header {
      display: flex; justify-content: space-between; align-items: baseline;
      margin-bottom: 12px;
    }
    .recon-card .card-pair {
      font-size: 13px; font-weight: 300; color: var(--fg);
      cursor: pointer;
    }
    .recon-card .card-pair:hover { color: var(--mint); }
    .recon-card .card-rank {
      font-size: 12px; color: var(--bananas); letter-spacing: 1px;
    }
    .recon-card .card-stats {
      display: grid; grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }

    /* ─── ROVER ─── declension of well deposit / well rows */

    .rover-deposit-section {
      display: flex; gap: 12px; align-items: center;
      margin-bottom: 16px;
    }
    .rover-input {
      flex: 1; background: transparent;
      border: none; border-bottom: 1px solid var(--faint);
      padding: 8px 0; color: var(--fg);
      font-size: 11px; font-weight: 300; font-family: inherit;
    }
    .rover-input:focus { outline: none; border-bottom-color: var(--dim); }
    .rover-input.mint { flex: 2; }
    .rover-btn {
      background: transparent; border: 1px solid var(--faint);
      padding: 8px 16px; color: var(--dim);
      font-weight: 300; font-size: 9px; letter-spacing: 1.5px;
      text-transform: lowercase;
      cursor: pointer; font-family: inherit; transition: all 0.2s;
    }
    .rover-btn:hover { border-color: var(--bananas); color: var(--fg); }
    .rover-note {
      font-size: 11px; color: var(--dim); letter-spacing: 0.5px;
      margin-bottom: 16px; font-weight: 300;
    }

    .rover-header {
      display: grid; grid-template-columns: 0.5fr 2fr 1.5fr 1fr;
      gap: 12px; padding: 8px 0;
      font-size: 10px; color: var(--faint);
      letter-spacing: 2px; text-transform: lowercase;
      border-bottom: 1px solid rgba(30, 45, 80, 0.4);
    }
    .rover-row {
      display: grid; grid-template-columns: 0.5fr 2fr 1.5fr 1fr;
      gap: 12px; padding: 12px 0;
      font-size: 13px; font-weight: 300;
      border-bottom: 1px solid rgba(30, 45, 80, 0.15);
      align-items: center;
    }
    .rover-row .rank { color: var(--dim); }
    .rover-status {
      font-size: 11px; letter-spacing: 1px; text-transform: lowercase;
    }
    .rover-status.active { color: var(--mint); }
    .rover-status.converting { color: var(--bananas); }
    .rover-status.swept { color: var(--dim); }

    /* ─── MODALS ─── declension of .wallet-options backdrop */

    .modal-overlay {
      position: fixed; inset: 0;
      background: rgba(15, 26, 58, 0.85);
      backdrop-filter: blur(20px);
      z-index: 500; display: none;
      align-items: center; justify-content: center;
    }
    .modal-overlay.visible { display: flex; }
    .modal-content {
      background: var(--bg);
      border: 1px solid var(--faint);
      padding: 24px; max-width: 500px; width: 90%;
    }
    .pnl-modal-content {
      max-width: 660px; padding: 16px;
    }
    .pnl-modal-content canvas {
      width: 100%; height: auto; display: block;
    }
    .warning-modal {
      max-width: 360px; text-align: center;
    }
    .warning-text {
      font-size: 12px; color: var(--dim); letter-spacing: 0.5px;
      margin: 16px 0; font-weight: 300; line-height: 1.7;
    }
    .modal-actions {
      display: flex; gap: 12px; justify-content: center;
      margin-top: 16px;
    }

    .toast {
      position: fixed; bottom: 120px; right: 120px;
      background: rgba(15, 26, 58, 0.9);
      border: 1px solid var(--faint);
      color: var(--fg); padding: 10px 22px;
      font-size: 12px; font-weight: 300; letter-spacing: 1px;
      z-index: 1000; font-family: inherit;
      backdrop-filter: blur(20px);
      animation: slideUp 0.3s ease;
    }
    .toast.error { border-color: var(--sell); }
    .toast.success { border-color: var(--mint); }
    @keyframes slideUp {
      from { transform: translateY(10px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }

    .empty-state {
      text-align: center; padding: 40px;
      color: var(--faint); font-size: 12px;
      font-weight: 300; letter-spacing: 1px;
    }

/* ═══ ENLIST PAGE ═══ */


/* Compact inline countdown — sits on one line */
.enlist-countdown {
  display: flex; align-items: baseline; gap: 12px;
  margin-bottom: 16px;
}
.countdown-inline {
  font-size: 14px; font-weight: 200; color: var(--bananas);
  font-variant-numeric: tabular-nums; letter-spacing: 1px;
}
.countdown-inline span {
  font-weight: 300; color: var(--bananas);
}

/* Mint address line */
.enlist-mint-line {
  display: flex; align-items: baseline; gap: 12px;
  margin-bottom: 16px;
}

/* Deposit Form — left-aligned, scaffold vocabulary */
.enlist-deposit-form { margin: 16px 0; }

.deposit-input-row {
  display: flex; gap: 8px; margin-bottom: 4px;
}

.deposit-input {
  flex: 1; max-width: 240px;
  background: transparent;
  border: none; border-bottom: 1px solid var(--faint);
  color: var(--fg);
  font-family: 'JetBrains Mono', monospace;
  font-size: 14px; font-weight: 200;
  padding: 6px 0; outline: none;
  transition: border-color 0.2s; letter-spacing: 1px;
}
.deposit-input:focus { border-bottom-color: var(--dim); }
.deposit-input::placeholder { color: var(--faint); }
.deposit-input::-webkit-outer-spin-button,
.deposit-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
.deposit-input { -moz-appearance: textfield; appearance: textfield; }

.deposit-balance {
  font-size: 11px; font-weight: 300; color: var(--dim);
  margin-bottom: 12px;
}

/* Help button — top right of enlist page body */
.enlist-help-btn {
  position: absolute; top: 0; right: 0;
  width: 22px; height: 22px;
  background: transparent; border: 1px solid var(--faint);
  border-radius: 50%; color: var(--dim);
  font-size: 11px; font-weight: 300; font-family: inherit;
  cursor: pointer; transition: all 0.2s;
  display: flex; align-items: center; justify-content: center;
  line-height: 1;
}
.enlist-help-btn:hover { border-color: var(--bananas); color: var(--bananas); }

/* Codec modal — MGS-style comms screen */
.codec {
  position: relative;
  background: #0a1a0a;
  border: 2px solid var(--scaffold);
  max-width: 900px; width: 94%;
  overflow: hidden;
}
.codec-scanlines {
  position: absolute; inset: 0; z-index: 1;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 2px,
    rgba(0, 0, 0, 0.15) 2px,
    rgba(0, 0, 0, 0.15) 4px
  );
}
.codec-header {
  display: flex; align-items: center; gap: 12px;
  padding: 8px 12px;
  border-bottom: 1px solid rgba(58, 90, 40, 0.5);
  position: relative; z-index: 2;
}
.codec-freq {
  font-size: 12px; font-weight: 300; color: var(--scaffold);
  letter-spacing: 2px; font-variant-numeric: tabular-nums;
}
.codec-label {
  font-size: 9px; font-weight: 300; color: var(--dim);
  letter-spacing: 3px; text-transform: lowercase;
  flex: 1;
}
.codec-close {
  background: none; border: none; color: var(--dim);
  font-size: 16px; cursor: pointer; font-family: inherit;
  padding: 0 4px; transition: color 0.2s;
}
.codec-close:hover { color: var(--fg); }

.codec-body {
  display: flex; gap: 24px;
  padding: 24px;
  position: relative; z-index: 2;
}
.codec-portrait {
  flex: 0 0 180px; text-align: center;
}
.codec-portrait img {
  width: 180px; height: 180px;
  border: 1px solid var(--scaffold);
  image-rendering: pixelated;
  display: block;
}
.codec-name {
  font-size: 9px; font-weight: 300; color: var(--scaffold);
  letter-spacing: 2px; margin-top: 6px;
  text-transform: lowercase;
}
.codec-dialogue {
  flex: 1;
  font-size: 13px; font-weight: 300;
  color: #8aab8a;
  line-height: 2; letter-spacing: 0.4px;
}
.codec-dialogue p { margin-bottom: 12px; }
.codec-accent { color: var(--mint); font-weight: 400; }

/* Curve estimate display */
.enlist-estimate {
  display: flex; gap: 24px; margin-bottom: 16px;
  padding: 10px 0;
  border-top: 1px solid rgba(30, 45, 80, 0.3);
  border-bottom: 1px solid rgba(30, 45, 80, 0.3);
}
.enlist-estimate-row {
  display: flex; flex-direction: column; gap: 2px;
}
.enlist-estimate .stat-value {
  font-size: 13px;
}

/* Pro-rata explainer */
.enlist-explainer {
  font-size: 12px; font-weight: 300; color: var(--dim);
  line-height: 1.8; letter-spacing: 0.3px;
  margin-bottom: 20px; max-width: 480px;
}

/* Withdraw de-emphasized — small, faint, tucked under countdown */
.enlist-secondary-actions {
  margin-top: 12px;
}
.enlist-secondary-actions .enlist-withdraw {
  opacity: 0.4; font-size: 8px; letter-spacing: 2px;
  transition: opacity 0.2s;
}
.enlist-secondary-actions .enlist-withdraw:hover { opacity: 0.8; }

/* Next step after claim */
.enlist-next-step {
  margin-top: 16px;
  display: flex; align-items: center; gap: 12px;
}
.enlist-next-step .dim {
  font-size: 10px; font-weight: 300; color: var(--dim);
}
